<div class="content-wrapper">
    <div class="row">
        <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body" style="background-color:rgb(255, 222, 227) ;font-weight: bold;">
                    <h4 class="card-title" style="text-align:center ;">ALL USERS</h4>

                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                     <th>
                                        No.
                                    </th>
                                    <th>
                                        User
                                    </th>
                                    <th>
                                        Full Name
                                    </th>
                                    <th>
                                        User Name
                                    </th>
                                    <th>
                                        Email
                                    </th>
                                    <th>
                                        Mobile
                                    </th>
                                    <th>
                                        Block
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                {{!-- <h5>{{users}}</h5> --}}

                                {{#each data}}

                                <tr>
                                    <td>
                                        {{@index}}
                                    </td>
                                    <td class="py-1">
                                        <img src="/admin/images/faces/face1.jpg" alt="image" />
                                    </td>
                                    <td>
                                        {{this.FirstName}} {{this.LastName}}
                                    </td>
                                    <td>
                                        {{this.UserName}}
                                    </td>
                                    <td>
                                        {{this.Email}}
                                    </td>
                                    <td>
                                        {{this.Mobile}}
                                    </td>
                                    <td>
                                        {{#if this.Access}}
                                        <a class="btn btn-outline-danger btn-fw" onclick="userBlock('{{this._id}}')" ><i
                                                class="bi bi-x-octagon-fill"></i>Block</a>
                                        {{else}}
                                        <a class="btn btn-outline-success btn-fw" onclick="userUnBlock('{{this._id}}')">
                                            <i class="bi bi-arrow-repeat"></i>unbock
                                        </a>
                                        {{/if}}

                                    </td>
                                </tr>

                                {{/each}}

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const userBlock = (productId) => {
        Swal.fire({
         title: 'Are you sure?',
         text: "The User Can't Able To Login",
         icon: 'warning',
         showCancelButton: true,
         confirmButtonColor: '#3085d6',
         cancelButtonColor: '#d33',
         confirmButtonText: 'Yes, Block it!'
      }).then((result) => {
         if (result.isConfirmed) {
            location.href = `/admin/block-user-account/${productId}`
            Swal.fire(
               'Deleted!',
               'Your file has been deleted.',
               'success'
            )
         }
      })
    }
</script>
<script>
    const userUnBlock = (productId) => {
        Swal.fire({
         title: 'Are you sure?',
         text: "The User Able To Login",
         icon: 'warning',
         showCancelButton: true,
         confirmButtonColor: '#3085d6',
         cancelButtonColor: '#d33',
         confirmButtonText: 'Yes, Unblock it!'
      }).then((result) => {
         if (result.isConfirmed) {
            location.href = `/admin/unblock-user-account/${productId}`
            Swal.fire(
               'Deleted!',
               'Your file has been deleted.',
               'success'
            )
         }
      })
    }
</script>
